var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,s=(e,s)=>{for(var l in s||(s={}))n.call(s,l)&&o(e,l,s[l]);if(t)for(var l of t(s))a.call(s,l)&&o(e,l,s[l]);return e},l=(e,t,n)=>(o(e,"symbol"!=typeof t?t+"":t,n),n);import{m as i,r,p as c,s as d,c as u,l as p,a as h,b as m,z as g,d as f,i as v,e as y,t as b,h as w,f as x,g as k,o as _,P as M,j as C,k as S,u as I,n as $,q as B,w as E,v as D,x as L,y as N,F as H,A as P,B as O,C as A,D as z,E as W,G as F,H as V,I as G,J as U,K as j,L as T,M as R,N as Y,O as J,Q as K,R as q,S as X,T as Z,U as Q,V as ee,W as te,X as ne,Y as ae}from"./vendor.a6db6588.js";var oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get svg(){return Ce},get g(){return Se},get asstSvg(){return Ie},get foreign(){return $e}});!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const se=i();var le={container:"Mindmap_container_fgvb6","svg-wrapper":"Mindmap_svg-wrapper_fgvb6","asst-svg":"Mindmap_asst-svg_fgvb6",svg:"Mindmap_svg_fgvb6",trigger:"Mindmap_trigger_fgvb6",dragging:"Mindmap_dragging_fgvb6","add-btn":"Mindmap_add-btn_fgvb6",hidden:"Mindmap_hidden_fgvb6","expand-btn":"Mindmap_expand-btn_fgvb6",text:"Mindmap_text_fgvb6",selected:"Mindmap_selected_fgvb6",content:"Mindmap_content_fgvb6",root:"Mindmap_root_fgvb6",edited:"Mindmap_edited_fgvb6",outline:"Mindmap_outline_fgvb6",collapse:"Mindmap_collapse_fgvb6","button-list":"Mindmap_button-list_fgvb6","right-bottom":"Mindmap_right-bottom_fgvb6","right-top":"Mindmap_right-top_fgvb6",disabled:"Mindmap_disabled_fgvb6",gps:"Mindmap_gps_fgvb6",fit:"Mindmap_fit_fgvb6",download:"Mindmap_download_fgvb6",prev:"Mindmap_prev_fgvb6",next:"Mindmap_next_fgvb6",close:"Mindmap_close_fgvb6"};const ie=r(),re=r(),ce=r(),de=r(),ue=r(),pe=r();function he(){const e=this.querySelector(`g.${le["add-btn"]}`);e&&(e.style.opacity="1")}function me(){const e=this.querySelector(`g.${le["add-btn"]}`);e&&(e.style.opacity="0")}const ge=(e,t)=>{e.stopPropagation(),xt(t)};function fe(e,t){var n,a;const o=null==(n=this.parentNode)?void 0:n.parentNode,{foreign:s}=oe;if(Qe&&s&&pe.value){o.classList.add(le.edited),se.emit("edit-flag",!1),s.attr("x",t.x-2-(t.left?t.width:0)).attr("y",t.y-In.data.y-2).attr("data-id",t.id).attr("data-name",t.name).style("display","");const e=pe.value;e.textContent=t.name,e.focus(),null==(a=getSelection())||a.selectAllChildren(e);const n=o.querySelector(`:scope > .${le.content}`);n&&It(n)}}const ve=()=>{var e;if(null==(e=document.getElementsByClassName(le.edited)[0])||e.classList.remove(le.edited,le.selected),ue.value&&pe.value){ue.value.style.display="none";const e=ue.value.getAttribute("data-id"),t=ue.value.getAttribute("data-name"),n=pe.value.textContent;e&&null!==n&&n!==t&&Bn(e,n)}},ye=e=>{if(e.preventDefault(),!ie.value)return;const t=wt(ie.value,e);Ee.value=t;const n=e.composedPath().find((e=>{var t;return null==(t=e.classList)?void 0:t.contains("node")}));if(n){const{classList:e}=n,t=e.contains(le.root),a=e.contains(le.collapse);e.contains(le.selected)||xt(n),Ne.value.disabled=t,ze.value.disabled=t,Ve.value.disabled=t,Oe.value.disabled=t,Ae.value.disabled=t,Pe.value.disabled=t,Le.value.disabled=!a,De.value.disabled=a||e.contains("leaf"),Be.value=!1}else Be.value=!0;se.emit("showContextmenu",!0)},be=e=>{var t,n;switch(e){case"zoomfit":St();break;case"zoomin":case"zoomout":$t(!0);break;case"add":we(new MouseEvent("click"),kt());break;case"delete":Nn(kt().id);break;case"delete-one":Hn(kt().id);break;case"collapse":On(kt().id);break;case"expand":Pn(kt().id);break;case"add-sibling":{const e=kt(),t=An(e.id,"");t&&xe(t)}break;case"add-sibling-before":{const e=kt(),t=An(e.id,"",!0);t&&xe(t)}break;case"add-parent":{const e=kt(),t=zn(e.id,"");t&&xe(t)}break;case"cut":{const{id:e}=kt(),n=null==(t=In.find(e))?void 0:t.rawData;n&&navigator.clipboard.writeText(JSON.stringify(n)),Nn(e)}break;case"copy":{const e=kt(),t=null==(n=In.find(e.id))?void 0:n.rawData;t&&navigator.clipboard.writeText(JSON.stringify(t))}break;case"paste":{const e=kt();navigator.clipboard.readText().then((t=>{const n=Lt(t)||{name:t};Ln(e.id,n)}))}}},we=(e,t)=>{const n=Ln(t.id,"");n&&xe(n,e)};function xe(e,t=new MouseEvent("click")){const{g:n}=oe;if(!n)return;const a=n.selectAll(`g[data-id='${Pt(e)}'] > g.${le.content} > g.${le.text}`).node();a&&(se.emit("edit-flag",!0),fe.call(a,t,e))}const ke=(e,t)=>{Pn(t.id)};const _e=e=>{const{svg:t}=oe;t&&(e?(dt(t),t.on("dblclick.zoom",null)):t.on(".zoom",null))},Me=e=>{ie.value&&(e?ie.value.addEventListener("contextmenu",ye):ie.value.removeEventListener("contextmenu",ye))};let Ce,Se,Ie,$e;se.on("selection-svg",(e=>Ce=e)),se.on("selection-g",(e=>Se=e)),se.on("selection-asstSvg",(e=>Ie=e)),se.on("selection-foreign",(e=>$e=e));const Be=r(!0),Ee=r({left:0,top:0}),De=r({title:"Collapse node",name:"collapse",disabled:!0}),Le=r({title:"Expand node",name:"expand",disabled:!0}),Ne=r({title:"Delete node ",name:"delete",disabled:!1}),He=r({title:"New child node",name:"add",disabled:!1}),Pe=r({title:"New parent node",name:"add-parent",disabled:!1}),Oe=r({title:"New sibling node",name:"add-sibling",disabled:!1}),Ae=r({title:"Create a new sibling node before this ",name:"add-sibling-before",disabled:!0}),ze=r({title:"Cut",name:"cut",disabled:!1}),We=r({title:"Copy",name:"copy",disabled:!1}),Fe=r({title:"Paste",name:"paste",disabled:!1}),Ve=r({title:"Delete a single node",name:"delete-one",disabled:!1}),Ge=u((()=>[[He.value,Pe.value,Oe.value,Ae.value],[ze.value,We.value,Fe.value,Ne.value,Ve.value],[{title:"Select all",name:"selectall",disabled:!0}],[De.value,Le.value]])),Ue=u((()=>[[{title:"Zoom in",name:"zoomin",disabled:ct.value.k>=Ze[1]},{title:"Zoom out",name:"zoomout",disabled:ct.value.k<=Ze[0]},{title:"Zoom fit",name:"zoomfit",disabled:!1}],[{title:"Select all",name:"selectall",disabled:!0}]])),je=u((()=>Be.value?Ue.value:Ge.value)),Te=p().source((e=>e.source)).target((e=>e.target)),Re=h().curve(m),Ye=({source:e,target:t})=>Re([e,t]);let Je=!1,Ke=Te;const qe=r(!1);se.on("sharp-corner",(e=>{Je!==e&&(qe.value=!0),Je=!!e,Ke=e?Ye:Te}));let Xe=4;se.on("branch",(e=>Xe=e||Xe));let Ze=[.1,8];se.on("scale-extent",(e=>Ze=e||Ze));let Qe=!1;se.on("edit-flag",(e=>Qe=!!e));let et=18,tt=84,nt=Math.min(et/2-1,10);se.on("gap",(e=>{e&&(tt=e.xGap,et=e.yGap,nt=Math.min(et/2-1,10),nt=Math.min(tt/2-1,nt))}));const at=new ResizeObserver((e=>{const{foreign:t}=oe;if(!t)return;const n=e[0],a=n.target,{width:o,height:s}=n.contentRect,l=2*(parseInt(getComputedStyle(a).paddingLeft||"0",10)+parseInt(getComputedStyle(a.parentNode).borderTopWidth||"0",10));t.attr("width",o+l).attr("height",s+l),"none"!==t.style("display")&&It(a)})),ot={side:12,padding:2,margin:8},st=ot.side+2*ot.padding,lt=16,it=4,rt=2,ct=r(v),dt=g().on("zoom",(e=>{const{g:t}=oe;t&&(ct.value=e.transform,t.attr("transform",e.transform.toString()))})).scaleExtent(Ze),ut=f().container((function(){var e,t;return null==(t=null==(e=this.parentNode)?void 0:e.parentNode)?void 0:t.parentNode})).on("drag",(function(e,t){var n;const a=null==(n=this.parentNode)?void 0:n.parentNode;re.value&&re.value.classList.add(le.dragging);const{g:o}=oe;if(!o)return;Mt(a,t,[e.x-t.x,e.y-t.y]);const s=c(e,ce.value);s[1]+=In.data.y;const l=o.selectAll("g.node").filter((e=>{if(e!==t&&e!==t.parent&&!e.id.startsWith(t.id)){let t=nt,n=e.width+nt;e.left&&0!==e.depth&&([t,n]=[n,t]);const a={x0:e.x-t,x1:e.x+n,y0:e.y-nt,y1:e.y+e.height+nt};return s[0]>a.x0&&s[1]>a.y0&&s[0]<a.x1&&s[1]<a.y1}return!1})),i=Array.from(document.getElementsByClassName(le.outline)),r=l.node();i.forEach((e=>{e!==r&&e.classList.remove(le.outline)})),null==r||r.classList.add(le.outline)})).on("end",(function(e,t){var n;const a=null==(n=this.parentNode)?void 0:n.parentNode;re.value&&re.value.classList.remove(le.dragging);const o=document.getElementsByClassName(le.outline)[0];if(o){o.classList.remove(le.outline);const e=o.getAttribute("data-id");if(!e)throw new Error("outline data-id null");return t.px=0,t.py=0,void En(e,t.id)}const s=t.x-In.getRootWidth()/2,l=1===t.depth&&s*(s+t.px)<0,i=l?e=>e.left!==t.left:e=>e.left===t.left,r=a.parentNode;let c=l?{y:1/0,id:t.id}:t,u=l?{y:-1/0,id:t.id}:t;const p=d(r).selectAll(`g.${Nt(t).join(".")}`).filter((e=>e!==t&&i(e))),h=t.y+t.py;p.each((e=>{(l||e.y>t.y)&&e.y<h&&e.y>u.y&&(u=e),(l||e.y<t.y)&&e.y>h&&e.y<c.y&&(c=e)})),c.id!==t.id?(t.px=0,t.py=0,Dn(t.id,c.id)):u.id!==t.id?(t.px=0,t.py=0,Dn(t.id,u.id,1)):l?(t.px=0,t.py=0,Wn(t.id)):Mt(a,t,[0,0],500)})),pt=r(!1);let ht;se.on("mindmap-context",(e=>e?ht=e:null));const mt={drag:!1,edit:!1};const gt=new class{constructor(e=20){l(this,"length"),l(this,"snapshots"),l(this,"cursor"),this.length=e,this.snapshots=[],this.cursor=-1}get hasPrev(){return this.cursor>0}get hasNext(){return this.snapshots.length>this.cursor+1}snap(e){const t=y.exports.cloneDeep(e);for(;this.cursor<this.snapshots.length-1;)this.snapshots.pop();this.snapshots.push(t),this.snapshots.length>this.length&&this.snapshots.shift(),this.cursor=this.snapshots.length-1}prev(){return this.hasPrev?(this.cursor-=1,y.exports.cloneDeep(this.snapshots[this.cursor])):null}next(){return this.hasNext?(this.cursor+=1,y.exports.cloneDeep(this.snapshots[this.cursor])):null}},ft=r(!1),vt=r(!1),yt=e=>{const t=e.split("\n");return t.length>1&&""===t[t.length-1]&&t.pop(),t},bt=(e,t)=>b().duration(e).ease(t),wt=(e,t)=>{const{pageX:n,pageY:a}=t,o=e.getBoundingClientRect();return{left:n-(o.left+window.pageXOffset),top:a-(o.top+window.pageYOffset)}};function xt(e){const t=e instanceof SVGGElement?e:document.querySelector(`g[data-id='${Pt(e)}']`),n=document.getElementsByClassName(le.selected)[0];if(!t)throw new Error("selectGNode failed");n?n!==t?(n.classList.remove(le.selected),t.classList.add(le.selected)):se.emit("edit-flag",!0):t.classList.add(le.selected)}function kt(){return d(`.${le.selected}`).data()[0]}const _t=e=>{const{asstSvg:t}=oe;if(!t)throw new Error("asstSvg undefined");const n=yt(e),a=t.append("text");a.selectAll("tspan").data(n).enter().append("tspan").text((e=>e)).attr("x",0);const o=a.node().getBBox();return a.remove(),{width:Math.max(o.width,22),height:Math.max(o.height,22)*n.length}},Mt=(e,t,n,a=0)=>{const o=bt(a,x);t.px=n[0],t.py=n[1],d(e).transition(o).attr("transform",Ht),d(`g[data-id='${Pt(t)}'] > path`).transition(o).attr("d",(e=>At(e)))},Ct=()=>{const{svg:e}=oe;if(!e)return;const t=In.data;dt.translateTo(e,0+t.width/2,0+t.height/2)},St=()=>{const{svg:e}=oe;if(!e||!ce.value||!re.value)return;const t=ce.value.getBBox(),n=re.value.getBoundingClientRect(),a=Math.min(n.width/t.width,n.height/t.height),o=n.width/2,s=n.height/2,l=t.width*a/2,i=t.height*a/2,r=v.translate(-t.x*a+o-l,-t.y*a+s-i).scale(a);dt.transform(e,r)},It=e=>{const{svg:t}=oe;if(t&&re.value){const{k:n}=ct.value,a=e.getBoundingClientRect(),{x:o,y:s,width:l,height:i}=re.value.getBoundingClientRect(),r=a.x-o,c=r+a.width,d=a.y-s,u=d+a.height,p=2;let h=0,m=0;r<0&&(h=-r/n+p),(a.width>l||c>l)&&(h=-(c-l)/n-p),d<0&&(m=-d/n+p),(a.height>i||u>i)&&(m=-(u-i)/n-p),dt.translateBy(t,h,m)}},$t=e=>{const{svg:t}=oe;t&&dt.scaleBy(t,e?1.1:.9)},Bt=()=>{var e,t;ie.value&&(e=ie.value,t=In.data.name,w(e,{scale:8}).then((e=>{const n=e.toDataURL("image/png"),a=open();a&&(a.document.write(`<img src='${n}'>`),a.document.title=t,a.document.close())})))},Et=()=>{const e=gt.next();e&&(In.data=e,$n(!1))},Dt=()=>{const e=gt.prev();e&&(In.data=e,$n(!1))},Lt=e=>{let t;try{return t=JSON.parse(e),"name"in t&&t}catch(n){return!1}},Nt=e=>{const t=["node"];return e&&t.push(`depth-${e.depth}`),t},Ht=e=>`translate(${e.dx+e.px},${e.dy+e.py})`,Pt=e=>e.id,Ot=e=>{const t=yt(e.name),n=e.height/t.length;return t.map((e=>({name:e,height:n})))},At=e=>{let t=0,n=0;const a=Math.max(nt-3,0);let o=e.width+a;let s=3;const{parent:l}=e;l&&(t=l.width,n=l.height,0===l.depth&&(Je||(t/=2),n/=2,s=0)),e.left&&(l&&(0!==l.depth?t=-t:Je&&(t=0)),o=-o);const i=[-e.dx+t-e.px,-e.dy+n+s-e.py],r=[0,e.height+3];return`${Ke({source:i,target:r})}L${o},${r[1]}`},zt=(e,t,n,a,o)=>{e?(Rt(t,10),Ut(n,10,6),jt(a,10),o&&Tt(o,10)):(Rt(t,nt),Ut(n,nt),jt(a,nt),o&&Tt(o,nt))},Wt=(e,t)=>{const n=e.attr("class",(e=>(e=>{const t=Nt(e);return e&&(0===e.depth&&t.push(le.root),e.collapse?t.push(le.collapse):e.children&&0!==e.children.length||t.push("leaf")),t})(e).join(" "))).attr("data-id",Pt);(t?n.transition(t):n).attr("transform",Ht)},Ft=(e,t)=>{(t?e.transition(t):e).attr("transform",(e=>`translate(${e.left?-e.width:0},0)`))},Vt=e=>{e.attr("alignment-baseline","text-before-edge").text((e=>e.name||" ")).attr("x",0).attr("dy",((e,t)=>t?e.height:0))},Gt=(e,t)=>{e.attr("cx",t).attr("cy",0).attr("r",1)},Ut=(e,t,n=4)=>{e.attr("x",(e=>-t-(e.left?e.width:0))).attr("y",-t).attr("rx",n).attr("ry",n).attr("width",(e=>e.width+2*t)).attr("height",(e=>e.height+2*t))},jt=(e,t)=>{e.attr("class",le["expand-btn"]).attr("transform",(e=>((e,t)=>{const n=0===e.depth?e.height/2:e.height+3;let a=e.width+t+lt/2+4;return e.left&&(a=-a),`translate(${a},${n})`})(e,t))).style("color",(e=>e.color))},Tt=(e,t)=>{e.attr("class",(e=>(e=>{const t=[le["add-btn"]];return e.collapse&&t.push(le.hidden),t})(e).join(" "))).attr("transform",(e=>((e,t)=>{const n=0===e.depth?e.height/2:e.height+3;let a=e.width+t+st/2+ot.margin;return e.left&&(a=-a),`translate(${a},${n})`})(e,t)))},Rt=(e,t)=>{const n=st+ot.margin,a=2*t;e.attr("class",le.trigger).attr("x",(e=>-t-(e.left?e.width+n:0))).attr("y",-t).attr("width",(e=>e.width+a+n)).attr("height",(e=>e.height+a))},Yt=(e,t)=>{const n=e.attr("stroke",(e=>e.color)).attr("stroke-width",Xe);if(t){const e=n.transition(t);qe.value?e.attrTween("d",Jt):e.attr("d",At)}else n.attr("d",At)};function Jt(e,t,n){const a=At(e),o=n[t],s=o.cloneNode(),l=o.getTotalLength();s.setAttribute("d",a);const i=s.getTotalLength(),r=[0],c=10/Math.max(l,i);let d=0;for(;(d+=c)<1;)r.push(d);r.push(1);const u=r.map((e=>{const t=o.getPointAtLength(e*l),n=s.getPointAtLength(e*i);return k([t.x,t.y],[n.x,n.y])}));return e=>e<1?"M"+u.map((t=>t(e))).join("L"):a}const Kt=e=>{const t=e.append("tspan");return Vt(t),t},qt=e=>(Vt(e),e),Xt=e=>{const t=e.append("g");return(e=>{const{side:t,padding:n}=ot,a=-n-t/2,o=t+2*n;e.attr("x",a).attr("y",a).attr("rx",4).attr("ry",4).attr("width",o).attr("height",o)})(t.append("rect")),t.append("path").attr("d",((e,t)=>{const n=-t/2,a=-e/2,o=e/2,s=t/2;return`M${s},${o}H${o}V${s}H${a}V${o}H${n}V${a}H${a}V${n}H${o}V${a}H${s}V${o}Z`})(2,ot.side)),t},Zt=e=>{const t=Xt(e);return t.on("click",we),t},Qt=e=>{const t=e.append("g");return t.append("rect").attr("x",-lt/2).attr("y",-it/2).attr("width",lt).attr("height",it).attr("rx",rt).attr("ry",rt).attr("stroke",(e=>e.color||"grey")).attr("fill",(e=>e.color||"grey")),Gt(t.append("circle"),-4),Gt(t.append("circle"),0),Gt(t.append("circle"),4),t},en=e=>{var t;const n=!(null==(t=e.data()[0])?void 0:t.depth),a=e.append("g");Wt(a),Yt(a.append("path"));const o=a.append("g").attr("class",le.content),s=o.append("rect"),l=o.append("g").attr("class",le.text),i=l.append("rect"),r=l.append("text");Ft(r);const c=r.selectAll("tspan").data(Ot).enter().append("tspan");let d;Vt(c),pt.value&&(d=Zt(o));const u=Qt(o);return zt(n,s,i,u,d),((e,t)=>{if(e.select(`:scope > g.${le.content} > g.${le["expand-btn"]}`).on("click",ke),mt.drag||mt.edit){const n=e.select(`:scope > g.${le.content} > g.${le.text}`);n.on("mousedown",ge),mt.drag&&!t&&ut(n),mt.edit&&n.on("click",fe)}pt.value&&e.select(`:scope > g.${le.content}`).on("mouseenter",he).on("mouseleave",me)})(a,n),a.each(((e,t)=>{e.children&&nn(e.children,a.filter(((e,n)=>t===n)))})),o.raise(),a},tn=e=>{var t;const n=!(null==(t=e.data()[0])?void 0:t.depth),a=bt(500,x);Wt(e,a),Yt(e.select(":scope > path"),a);const o=e.select(`:scope > g.${le.content}`),s=o.select(":scope > rect"),l=o.select(`g.${le.text}`),i=l.select("rect"),r=l.select("text");Ft(r,a),r.selectAll("tspan").data(Ot).join(Kt,qt,(e=>e.remove()));let c=o.select(`g.${le["add-btn"]}`);const d=o.select(`g.${le["expand-btn"]}`);return pt.value?c.node()||(c=Zt(o)):c.remove(),zt(n,s,i,d,c),e.each(((t,n)=>{t.children&&nn(t.children,e.filter(((e,t)=>n===t)))})),o.raise(),e},nn=(e=[In.data],t=Se)=>{t.selectAll(`g.${Nt(e[0]).join(".")}`).data(e,(e=>e.gKey)).join(en,tn)};class an{constructor(e,t,n,a){l(this,"w"),l(this,"h"),l(this,"y"),l(this,"c"),l(this,"cs"),l(this,"x"),l(this,"prelim"),l(this,"mod"),l(this,"shift"),l(this,"change"),l(this,"tl"),l(this,"tr"),l(this,"el"),l(this,"er"),l(this,"msel"),l(this,"mser"),this.w=e,this.h=t,this.y=n,this.c=a,this.cs=a.length,this.x=0,this.prelim=0,this.mod=0,this.shift=0,this.change=0,this.tl=null,this.tr=null,this.el=null,this.er=null,this.msel=0,this.mser=0}}function on(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function sn(e){return e.y+e.h}class ln{constructor(e,t,n){l(this,"lowY"),l(this,"index"),l(this,"next"),this.lowY=e,this.index=t,this.next=n}}function rn(e,t,n){for(;null!==n&&e>=n.lowY;)n=n.next;return new ln(e,t,n)}function cn(e,t,n,a){e.c[t].mod+=a,e.c[t].msel+=a,e.c[t].mser+=a,function(e,t,n,a){if(n!==t-1){const o=t-n;e.c[n+1].shift+=a/o,e.c[t].shift-=a/o,e.c[t].change-=a-a/o}}(e,t,n,a)}function dn(e){return 0===e.cs?e.tl:e.c[0]}function un(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function pn(e,t,n){let a=e.c[t-1],o=a.mod,s=e.c[t],l=s.mod;for(;null!==a&&null!==s;){sn(a)>n.lowY&&(n=n.next);const i=o+a.prelim+a.w-(l+s.prelim);i>0&&(l+=i,cn(e,t,n.index,i));const r=sn(a),c=sn(s);r<=c&&(a=un(a),null!==a&&(o+=a.mod)),r>=c&&(s=dn(s),null!==s&&(l+=s.mod))}null===a&&null!==s?function(e,t,n,a){const o=e.c[0].el;o.tl=n;const s=a-n.mod-e.c[0].msel;o.mod+=s,o.prelim-=s,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,s,l):null!==a&&null===s&&function(e,t,n,a){const o=e.c[t].er;o.tr=n;const s=a-n.mod-e.c[t].mser;o.mod+=s,o.prelim-=s,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,a,o)}function hn(e){if(0===e.cs)return void on(e);hn(e.c[0]);let t=rn(sn(e.c[0].el),0,null);for(let n=1;n<e.cs;n++){hn(e.c[n]);const a=sn(e.c[n].er);pn(e,n,t),t=rn(a,n,t)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(e),on(e)}function mn(e,t){t+=e.mod,e.x=e.prelim+t,function(e){let t=0,n=0;for(let a=0;a<e.cs;a++)t+=e.c[a].shift,n+=t+e.c[a].change,e.c[a].mod+=n}(e);for(let n=0;n<e.cs;n++)mn(e.c[n],t)}function gn(e){hn(e),mn(e,0)}class fn{constructor(e,t){l(this,"gap"),l(this,"bottomPadding"),this.gap=e,this.bottomPadding=t}addBoundingBox(e,t){return{width:e+this.gap,height:t+this.bottomPadding}}removeBoundingBox(e,t){return{x:e+this.gap/2,y:t}}}class vn{constructor(e){l(this,"bb"),this.bb=e}layout(e){const t=this.convert(e);gn(t);const{boundingBox:n,result:a}=this.assignLayout(t,e);return{result:a,boundingBox:n}}convert(e,t=0){const{width:n,height:a}=this.bb.addBoundingBox(e.width,e.height),o=[];if(e.children&&e.children.length)for(let s=0;s<e.children.length;s++)o[s]=this.convert(e.children[s],t+a);return new an(n,a,t,o)}assignCoordinates(e,t){const{x:n,y:a}=this.bb.removeBoundingBox(e.x,e.y);t.x=n,t.y=a;for(let o=0;o<e.c.length;o++)this.assignCoordinates(e.c[o],t.children[o])}getSize(e,t){const{x:n,y:a,width:o,height:s}=e;if(t||(t={left:n,right:n+o,top:a,bottom:a+s}),t.left=Math.min(t.left,n),t.right=Math.max(t.right,n+o),t.top=Math.min(t.top,a),t.bottom=Math.max(t.bottom,a+s),e.children)for(const l of e.children)this.getSize(l,t);return t}assignLayout(e,t,n){const{x:a,y:o}=this.bb.removeBoundingBox(e.x,e.y);t.x=a,t.y=o;const{width:s,height:l}=t;n||(n={left:a,right:a+s,top:o,bottom:o+l}),n.left=Math.min(n.left,a),n.right=Math.max(n.right,a+s),n.top=Math.min(n.top,o),n.bottom=Math.max(n.bottom,o+l);for(let i=0;i<e.c.length;i++)this.assignLayout(e.c[i],t.children[i],n);return{result:t,boundingBox:n}}}const yn=e=>[e.width,e.height]=[e.height,e.width],bn=e=>{e.parent?(e.dx=e.x-e.parent.x,e.dy=e.y-e.parent.y):(e.dx=0,e.dy=0)},wn=(e,t)=>e.id=t,xn=e=>{e.parent?e.depth=e.parent.depth+1:e.depth=0},kn=e=>{e.parent&&e.parent.color&&(e.color=e.parent.color)},_n=e=>{e.depth>1&&e.parent&&(e.left=e.parent.left)},Mn=(e,t,n="0")=>{var a;t.forEach((t=>{t(e,n)}));const{children:o}=e;if(o)for(let s=0;s<o.length;){const l=o[s];"del"===l.id?(o.splice(s,1),null==(a=e.rawData.children)||a.splice(s,1)):(Mn(l,t,`${n}-${s}`),s+=1)}},Cn=(e,t)=>{const n=new fn(t,e);return new vn(n)};class Sn{constructor(e,t,n,a,o=_(M)){l(this,"data"),l(this,"getSize"),l(this,"layout"),l(this,"colorScale"),l(this,"colorNumber",0),l(this,"gKey",0),l(this,"rootWidth",0),l(this,"diffY",0),this.colorScale=o,this.getSize=a,this.layout=Cn(t,n),this.data=this.createMdataFromData(e,"0"),this.renew()}createMdataFromData(e,t,n=null){const{name:a,collapse:o,children:s}=e,{width:l,height:i}=this.getSize(a),r=n?n.depth+1:0;let c=!1,d=n?n.color:"";1===r?(c=!!e.left,d=this.colorScale(`${this.colorNumber+=1}`)):0!==r&&n&&(c=n.left);const u={id:t,name:a,rawData:e,parent:n,left:c,color:d,depth:r,x:0,y:0,dx:0,dy:0,px:0,py:0,width:l,height:i,children:[],_children:[],collapse:!!o,gKey:this.gKey+=1};return s&&(u.collapse?s.forEach(((e,n)=>{u._children.push(this.createMdataFromData(e,`${t}-${n}`,u))})):s.forEach(((e,n)=>{u.children.push(this.createMdataFromData(e,`${t}-${n}`,u))}))),u}renew(...e){Mn(this.data,[yn,xn,_n]),this.data=this.l(this.data);const t=[yn,this.renewXY.bind(this),bn];Mn(this.data,t.concat(e))}l(e){const{left:t,right:n}=(e=>{const t=Object.assign({},e),n=Object.assign({},e);if(e.collapse);else{const{children:a}=e;t.children=[],n.children=[],a.forEach((e=>{e.left?t.children.push(e):n.children.push(e),e.parent&&(e.parent=n)}))}return{left:t,right:n}})(e);return this.layout.layout(t),this.layout.layout(n),this.diffY=n.x-t.x,this.rootWidth=t.height,n.children=e.children,n}renewXY(e){[e.x,e.y]=[e.y,e.x],e.left&&(e.x=-e.x+this.rootWidth,e.y+=this.diffY)}getRootWidth(){return this.rootWidth}setBoundingBox(e,t){this.layout=Cn(e,t),this.renew()}find(e){const t=e.split("-").map((e=>~~e));let n=this.data;for(let a=1;a<t.length;a++){const e=t[a],{children:o}=n;if(!(e<o.length))return null;n=o[e]}return n.id===e?n:null}rename(e,t){if(e.length>0){const n=this.find(e);if(n&&n.name!==t){n.name=t,n.rawData.name=t;const e=this.getSize(n.name);n.width=e.width,n.height=e.height,this.renew()}return n}return null}moveChild(e,t){var n,a;if(e===t)return null;const o=this.find(e),s=this.find(t),l=t.split("-").pop();if(l&&o&&s){const e=s.parent;null==(n=null==e?void 0:e.children)||n.splice(~~l,1),null==(a=null==e?void 0:e.rawData.children)||a.splice(~~l,1),s.parent=o,s.gKey=this.gKey+=1,s.depth=s.parent.depth+1,1===s.depth?s.color=this.colorScale(`${this.colorNumber+=1}`):s.left=s.parent.left,o.collapse?o._children.push(s):o.children.push(s),o.rawData.children?o.rawData.children.push(s.rawData):o.rawData.children=[s.rawData],this.renew(wn,kn)}return s}moveSibling(e,t,n=0){const a=e.split("-"),o=t.split("-");let s=a.pop(),l=o.pop();if(e===t||a.length!==o.length||!s||!l)return null;const i=this.find(e),r=this.find(t);if(r&&i&&i.parent){s=parseInt(s,10),l=parseInt(l,10),s<l&&(l-=1);const{children:e}=i.parent,{children:t}=i.parent.rawData;if(e&&t)return e.splice(s,1),e.splice(l+n,0,i),t.splice(s,1),t.splice(l+n,0,i.rawData),1===i.depth&&(i.left=r.left),this.renew(wn),i}return null}add(e,t){const n=this.find(e);if(n){if(n.collapse&&this.expand(e),n.rawData.children||(n.rawData.children=[]),"string"==typeof t){const e=t,a=this.getSize(e),o={name:e},s=n.color?n.color:this.colorScale(`${this.colorNumber+=1}`),l={id:`${n.id}-${n.children.length}`,name:e,rawData:o,parent:n,left:n.left,collapse:!1,color:s,gKey:this.gKey+=1,width:a.width,height:a.height,depth:n.depth+1,x:0,y:0,dx:0,dy:0,px:0,py:0,children:[],_children:[]};return n.children.push(l),n.rawData.children.push(o),this.renew(),l}{const e=t,a=this.createMdataFromData(e,`${n.id}-${n.children.length}`,n);return n.children.push(a),n.rawData.children.push(e),this.renew(),a}}return null}expand(e){return this.eoc(e,!1,[kn,wn])}collapse(e){return this.eoc(e,!0)}eoc(e,t,n=[]){const a=this.find(e);return a&&(a.collapse=t,a.rawData.collapse=t,[a._children,a.children]=[a.children,a._children],this.renew(...n)),a}delete(e){const t=this.find(e);if(!t||!t.parent)throw new Error(t?"暂不支持删除根节点":"未找到需要删除的节点");t.id="del",this.renew(wn)}deleteOne(e){var t;const n=this.find(e);if(n&&n.parent){const{parent:a,children:o,_children:s,collapse:l,rawData:i}=n,r=parseInt(e.split("-").pop(),10);a.children.splice(r,1,...l?s:o),null==(t=a.rawData.children)||t.splice(r,1,...i.children||[]),o.forEach((e=>{e.parent=a,1===e.depth&&(e.rawData.left=e.left)})),this.renew(wn)}}addSibling(e,t,n=!1){var a;const o=this.find(e);if(o&&o.parent){const s=parseInt(e.split("-").pop(),10),{parent:l,left:i}=o,r={name:t,left:i},c=this.getSize(t),d=n?s:s+1,u={name:t,parent:l,children:[],_children:[],color:l.color?l.color:this.colorScale(`${this.colorNumber+=1}`),collapse:!1,rawData:r,id:`${l.id}-${d}`,left:i,gKey:this.gKey+=1,depth:o.depth,width:c.width,height:c.height,x:0,y:0,dx:0,dy:0,px:0,py:0};return l.children.splice(d,0,u),null==(a=l.rawData.children)||a.splice(d,0,r),this.renew(wn),u}return null}addParent(e,t){var n;const a=this.find(e);if(a&&a.parent){const{parent:e,left:o,color:s}=a,l=this.getSize(t),i=parseInt(a.id.split("-").pop(),10),r={name:t,children:[a.rawData],left:o};null==(n=e.rawData.children)||n.splice(i,1,r);const c={rawData:r,left:o,name:t,color:s,collapse:!1,parent:e,id:a.id,depth:a.depth,width:l.width,height:l.height,gKey:this.gKey+=1,children:[a],_children:[],x:0,y:0,dx:0,dy:0,px:0,py:0};return a.parent=c,e.children.splice(i,1,c),this.renew(wn),c}return null}changeLeft(e){const t=this.find(e);return t&&(t.left=!t.left,this.renew()),t}}let In;se.on("mmdata",(e=>e?In=e:null));const $n=(e=!0)=>{e&&gt.snap(In.data),ht.emit("update:modelValue",C([In.data.rawData])),ft.value=gt.hasPrev,vt.value=gt.hasNext,nn()},Bn=(e,t)=>{In.rename(e,t),$n()},En=(e,t)=>{In.moveChild(e,t),$n()},Dn=(e,t,n=0)=>{In.moveSibling(e,t,n),$n()},Ln=(e,t)=>{const n=In.add(e,t);return $n(),n},Nn=e=>{In.delete(e),$n()},Hn=e=>{In.deleteOne(e),$n()},Pn=e=>{In.expand(e),$n()},On=e=>{In.collapse(e),$n()},An=(e,t,n=!1)=>{const a=In.addSibling(e,t,n);return $n(),a},zn=(e,t)=>{const n=In.addParent(e,t);return $n(),n},Wn=e=>{In.changeLeft(e),$n()};var Fn=S({name:"contextmenu",props:{position:{default:{top:0,left:0}},groups:Array},emits:["click-item"],setup(e,t){const n=r(!1),a=I(),o=r(),s=r(),l=$({top:0,left:0});se.on("showContextmenu",(async t=>{if(!o.value||!s.value)return;n.value=!!t,await B();const{offsetWidth:a,offsetHeight:i}=o.value,{offsetWidth:r,offsetHeight:c}=s.value,{top:d,left:u}=e.position;l.top=d+c>i?i-c-8:d,l.left=u+r>a?u-r:u}));const i=()=>n.value=!1;return{style:a,show:n,close:i,onClick:e=>{i(),t.emit("click-item",e)},menuEle:s,containerEle:o,pos:l}}});var Vn={container:"Contextmenu_container_154ic",menu:"Contextmenu_menu_154ic",disabled:"Contextmenu_disabled_154ic"};const Gn=["id"],Un=["onClick"];(Fn.__cssModules={}).$style=Vn,Fn.render=function(e,t,n,a,o,s){return E((z(),L("div",{class:A(e.style.container),ref:"containerEle"},[N("div",{onMousedown:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},null,32),N("div",{ref:"menuEle",id:e.style.menu,style:O({top:e.pos.top+"px",left:e.pos.left+"px"})},[(z(!0),L(H,null,P(e.groups,((t,n)=>(z(),L("ul",{key:n},[(z(!0),L(H,null,P(t,(t=>(z(),L("li",{class:A(t.disabled?e.style.disabled:""),key:t.name,onClick:n=>e.onClick(t.name)},W(t.title),11,Un)))),128))])))),128))],12,Gn)],2)),[[D,e.show]])};var jn=S({name:"Mindmap",components:{Contextmenu:Fn},props:{modelValue:{type:Array,required:!0},xGap:{type:Number,default:tt},yGap:{type:Number,default:et},branch:{type:Number,default:Xe,validator:e=>e>=1&&e<=6},scaleExtent:{type:Object,default:Ze},sharpCorner:Boolean,centerBtn:Boolean,fitBtn:Boolean,downloadBtn:Boolean,timetravel:Boolean,addNodeBtn:Boolean,edit:Boolean,drag:Boolean,keyboard:Boolean,ctm:Boolean,zoom:Boolean},setup:(e,t)=>(F((()=>se.emit("scale-extent",e.scaleExtent))),F((()=>se.emit("branch",e.branch))),F((()=>se.emit("sharp-corner",e.sharpCorner))),F((()=>se.emit("gap",{xGap:e.xGap,yGap:e.yGap}))),F((()=>se.emit("mindmap-context",t))),F((()=>pt.value=e.edit&&e.addNodeBtn)),F((()=>mt.drag=e.drag)),F((()=>mt.edit=e.edit)),V((()=>{if(!(re.value&&ce.value&&de.value&&ue.value&&pe.value))return;se.emit("selection-svg",d(re.value)),se.emit("selection-g",d(ce.value)),se.emit("selection-asstSvg",d(de.value)),se.emit("selection-foreign",d(ue.value)),se.emit("mmdata",new Sn(y.exports.cloneDeep(e.modelValue[0]),tt,et,_t)),qe.value=!1,$n();const{svg:t,foreign:n}=oe;null==n||n.raise(),pe.value&&(at.observe(pe.value),pe.value.addEventListener("blur",ve),pe.value.addEventListener("mousedown",(e=>e.stopPropagation()))),St(),null==t||t.on("mousedown",(()=>{const e=document.getElementsByClassName(le.selected)[0];null==e||e.classList.remove(le.selected)})),_e(e.zoom),Me(e.ctm)})),G((()=>[e.branch,pt.value,e.sharpCorner]),(()=>{nn(),qe.value=!1})),G((()=>[e.xGap,e.yGap]),(e=>{In.setBoundingBox(e[0],e[1]),nn()})),G((()=>[e.drag,e.edit]),(e=>{(e=>{const{g:t}=oe;if(!t)return;const n=t.selectAll(`g.${le.text}`);e?n.on("mousedown",ge):n.on("mousedown",null)})(e[0]||e[1]),(e=>{const{g:t}=oe;if(!t)return;const n=t.selectAll(`g.node:not(.${le.root}) > g > g.${le.text}`);e?ut(n):n.on(".drag",null)})(e[0]),(e=>{const{g:t}=oe;if(!pe.value||!t)return;const n=t.selectAll(`g.${le.text}`);e?n.on("click",fe):n.on("click",null)})(e[1])})),G((()=>e.zoom),(e=>_e(e))),G((()=>e.ctm),(e=>Me(e))),{wrapperEle:ie,svgEle:re,gEle:ce,style:le,asstSvgEle:de,foreignEle:ue,foreignDivEle:pe,centerView:Ct,fitView:St,download:Bt,menu:je,contextmenuPos:Ee,onClickMenu:be,next:Et,prev:Dt,hasPrev:ft,hasNext:vt})});const Tn=["id"],Rn={ref:"gEle"},Yn={ref:"foreignEle",style:{display:"none"}},Jn={ref:"foreignDivEle",contenteditable:""};jn.render=function(e,t,n,a,o,s){const l=U("contextmenu");return z(),L("div",{class:A(e.style.container)},[N("div",{id:e.style["svg-wrapper"],ref:"wrapperEle"},[(z(),L("svg",{class:A(e.style.svg),ref:"svgEle"},[N("g",Rn,[(z(),L("foreignObject",Yn,[N("div",Jn,null,512)],512))],512)],2))],8,Tn),(z(),L("svg",{ref:"asstSvgEle",class:A(e.style["asst-svg"])},null,2)),N("div",{class:A([e.style["button-list"],e.style["right-bottom"]])},[e.centerBtn?(z(),L("button",{key:0,onClick:t[0]||(t[0]=t=>e.centerView())},[N("i",{class:A(e.style.gps)},null,2)])):j("",!0),e.fitBtn?(z(),L("button",{key:1,onClick:t[1]||(t[1]=t=>e.fitView())},[N("i",{class:A(e.style.fit)},null,2)])):j("",!0),e.downloadBtn?(z(),L("button",{key:2,onClick:t[2]||(t[2]=t=>e.download())},[N("i",{class:A(e.style.download)},null,2)])):j("",!0)],2),e.timetravel?(z(),L("div",{key:0,class:A([e.style["button-list"],e.style["right-top"]])},[N("button",{onClick:t[3]||(t[3]=(...t)=>e.prev&&e.prev(...t)),class:A({[e.style.disabled]:!e.hasPrev})},[N("i",{class:A(e.style.prev)},null,2)],2),N("button",{onClick:t[4]||(t[4]=(...t)=>e.next&&e.next(...t)),class:A({[e.style.disabled]:!e.hasNext})},[N("i",{class:A(e.style.next)},null,2)],2)],2)):j("",!0),e.ctm?(z(),T(l,{key:1,position:e.contextmenuPos,groups:e.menu,onClickItem:e.onClickMenu},null,8,["position","groups","onClickItem"])):j("",!0)],2)};var Kn=S({name:"MapEditor",components:{Mindmap:jn},props:["tree"],setup(e){const t=r(!1),n=r(!0),a=r(!0),o=r(!0),s=r(!0),l=r(!0),i=r(!0),c=r(!0),d=r(!0),u=r(!0),p=r(!1),h=r(""),m=$({branch:{value:4,min:1,max:6},"x-gap":{value:84,min:0,max:100},"y-gap":{value:18,min:0,max:100}});return V((function(){h.value=e.tree,t.value=!0,window.scrollTo(0,0)})),{renderComponent:t,center:n,fit:a,timetravel:o,download:s,addNode:l,zoom:i,drag:c,edit:d,contextmenu:u,sharp:p,dataM:h,rangeList:m}}});const qn={class:"containers"},Xn={class:"inline"},Zn=N("label",{for:"sharp"},"Sharp corners",-1),Qn=["name","onUpdate:modelValue","min","max"],ea=N("br",null,null,-1),ta=["for"],na=N("div",{class:"clearfix"},null,-1);Kn.render=function(e,t,n,a,o,s){const l=U("mindmap");return z(),L("div",null,[e.renderComponent?(z(),T(l,{key:0,class:"left-bottom editor",modelValue:e.dataM,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dataM=t),branch:e.rangeList.branch.value,"x-gap":e.rangeList["x-gap"].value,"y-gap":e.rangeList["y-gap"].value,zoom:e.zoom,"fit-btn":e.fit,"center-btn":e.center,"download-btn":e.download,drag:e.drag,edit:e.edit,"add-node-btn":e.addNode,"sharp-corner":e.sharp,ctm:e.contextmenu,timetravel:e.timetravel},null,8,["modelValue","branch","x-gap","y-gap","zoom","fit-btn","center-btn","download-btn","drag","edit","add-node-btn","sharp-corner","ctm","timetravel"])):j("",!0),N("div",qn,[N("div",Xn,[E(N("input",{type:"checkbox",name:"sharp",id:"sharp","onUpdate:modelValue":t[1]||(t[1]=t=>e.sharp=t)},null,512),[[R,e.sharp]]),Zn]),(z(!0),L(H,null,P(e.rangeList,((e,t)=>(z(),L("div",{key:t,class:"inline"},[E(N("input",{type:"range",name:t,"onUpdate:modelValue":t=>e.value=t,min:e.min,max:e.max},null,8,Qn),[[Y,e.value,void 0,{number:!0}]]),ea,N("label",{for:t},W(t)+"（"+W(e.value)+"）",9,ta)])))),128)),na])])};var aa={name:"PrimaryButton"};J("data-v-611dbdc9");const oa={class:"primary-button"};K(),aa.render=function(e,t,n,a,o,s){return z(),L("button",oa,[q(e.$slots,"default",{},void 0,!0)])},aa.__scopeId="data-v-611dbdc9";var sa={name:"LinkButton"};J("data-v-7afcd782");const la={class:"link-button"};K(),sa.render=function(e,t,n,a,o,s){return z(),L("button",la,[q(e.$slots,"default",{},void 0,!0)])},sa.__scopeId="data-v-7afcd782";var ia="/coeus-front-end/assets/HeroImage.ab93356c.svg",ra={name:"InputForm",components:{LinkButton:sa,PrimaryButton:aa},delimiters:["${","}"],emits:["generate-map"],setup(e,{emit:t}){const n=r(!0),a=r(""),o=r([]),s=r(!1),l=r(null);function i(){o.value=[...l.value.files]}return{file:l,HeroImage:ia,url:a,filelist:o,isDragged:s,semiStructure:n,removeFile:function(){o.value.splice(0)},chooseFiles:function(){document.getElementById("assetsFieldHandle").click()},generateMap:function(){let e=n.value?"":o.value;t("generate-map",{url:a.value,fileList:e})},onChange:i,remove:function(e){o.value.splice(e,1)},dragover:function(e){e.preventDefault(),s.value=!0},dragleave:function(e){s.value=!1},drop:function(e){e.preventDefault(),s.value=!0,l.value.files=e.dataTransfer.files,i(),s.value=!1}}}};J("data-v-74679db7");const ca={key:0},da={class:"float-right"},ua=Q(" Unstructured "),pa={class:"switch"},ha=N("span",{class:"slider round"},null,-1),ma=Q(" Semi-structured "),ga=["placeholder"],fa={key:0},va=Q(" or "),ya=Q("Upload a file"),ba=Q(" (.pdf, .doc, .docx, .txt) "),wa={key:1},xa={key:2},ka=Q("Remove"),_a=Q("Generate"),Ma={key:1},Ca=[N("label",null,"Drop file here!",-1)];K(),ra.render=function(e,t,n,a,o,s){const l=U("link-button"),i=U("primary-button");return z(),L("div",{class:"hero-action",onDragover:t[5]||(t[5]=(...e)=>a.dragover&&a.dragover(...e)),onDragleave:t[6]||(t[6]=(...e)=>a.dragleave&&a.dragleave(...e)),onDrop:t[7]||(t[7]=(...e)=>a.drop&&a.drop(...e))},[N("input",{type:"file",name:"fields[assetsFieldHandle][]",id:"assetsFieldHandle",class:"w-px h-px opacity-0 overflow-hidden absolute",onChange:t[0]||(t[0]=(...e)=>a.onChange&&a.onChange(...e)),ref:"file",accept:".pdf, .doc, .docx, .txt",style:{display:"none"}},null,544),a.isDragged?(z(),L("div",Ma,Ca)):(z(),L("div",ca,[N("label",null,W(a.semiStructure?"Wikipedia URL":"Title"),1),N("div",da,[ua,N("label",pa,[E(N("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>a.semiStructure=e)},null,512),[[R,a.semiStructure]]),ha]),ma]),E(N("input",{type:"text",placeholder:a.semiStructure?"E.g. https://en.wikipedia.org/wiki/Coeus":"E.g. KMUTT, Rice","onUpdate:modelValue":t[2]||(t[2]=e=>a.url=e)},null,8,ga),[[Y,a.url]]),a.semiStructure||a.filelist.length?j("",!0):(z(),L("p",fa,[va,X(l,{onClick:t[3]||(t[3]=e=>a.chooseFiles())},{default:Z((()=>[ya])),_:1}),ba])),a.semiStructure?(z(),L("p",wa,"  ")):j("",!0),!a.semiStructure&&a.filelist.length?(z(),L("p",xa,[Q(W(a.filelist[0].name)+" ",1),X(l,{onClick:t[4]||(t[4]=e=>a.removeFile())},{default:Z((()=>[ka])),_:1})])):j("",!0),X(i,{class:"hero-cta",onClick:a.generateMap},{default:Z((()=>[_a])),_:1},8,["onClick"])]))],32)},ra.__scopeId="data-v-74679db7";var Sa={emits:["generate-map"],name:"MapEditorBottom",components:{InputForm:ra,PrimaryButton:aa},setup:(e,{emit:t})=>({generateMap:function(e){t("generate-map",e)}})};J("data-v-10a75c57");const Ia=N("h1",null,"Generate more mind map",-1);K(),Sa.render=function(e,t,n,a,o,s){const l=U("input-form");return z(),L("div",null,[Ia,X(l,{onGenerateMap:a.generateMap},null,8,["onGenerateMap"])])},Sa.__scopeId="data-v-10a75c57";const $a={};J("data-v-373932f4");const Ba={class:"spinner"},Ea=[N("div",{class:"lds-roller"},[N("div"),N("div"),N("div"),N("div"),N("div"),N("div"),N("div"),N("div")],-1)];K(),$a.render=function(e,t){return z(),L("div",Ba,Ea)},$a.__scopeId="data-v-373932f4";const Da={components:{PrimaryButton:aa},props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}};J("data-v-c8d47166");const La={key:0,open:""},Na={key:0},Ha=Q("Close");K(),Da.render=function(e,t,n,a,o,s){const l=U("primary-button");return z(),T(te,{to:"body"},[n.show?(z(),L("div",{key:0,onClick:t[0]||(t[0]=(...e)=>s.tryClose&&s.tryClose(...e)),class:"backdrop"})):j("",!0),X(ee,{name:"dialog"},{default:Z((()=>[n.show?(z(),L("dialog",La,[N("header",null,[q(e.$slots,"header",{},(()=>[N("h2",null,W(n.title),1)]),{})]),N("section",null,[q(e.$slots,"default",{},void 0,!0)]),n.fixed?j("",!0):(z(),L("menu",Na,[q(e.$slots,"actions",{},(()=>[X(l,{onClick:s.tryClose},{default:Z((()=>[Ha])),_:1},8,["onClick"])]),{})]))])):j("",!0)])),_:3})])},Da.__scopeId="data-v-c8d47166";var Pa={name:"OutlineButton"};J("data-v-46c388c6");const Oa={class:"outline-button"};K(),Pa.render=function(e,t,n,a,o,s){return z(),L("button",Oa,[q(e.$slots,"default",{},void 0,!0)])},Pa.__scopeId="data-v-46c388c6";var Aa={name:"HamburgerMenu",components:{OutlineButton:Pa},setup(){const e=r(null),t=r(null),n=r(!1),a=()=>{e.value=window.scrollY};return V((()=>{window.addEventListener("scroll",a)})),{scrollYPosition:e,isDisplayMenu:t,isDrawerOpen:n,onOpenMobileMenu:()=>{n.value=!0},onCloseMobileMenu:()=>{n.value=!1}}}};J("data-v-62c3b7f6");const za=[N("div",{class:"hamburger-line"},null,-1),N("div",{class:"hamburger-line"},null,-1),N("div",{class:"hamburger-line"},null,-1)],Wa=N("h1",{class:"title"},"COEUS",-1),Fa={class:"list-item-container"},Va={class:"list-item"},Ga={class:"list-item"},Ua={class:"list-item"},ja={class:"list-item"},Ta={href:"https://github.com/cs-coeus/coeus-api"},Ra=Q("Public API"),Ya=[N("div",{class:"cross-line-left"},null,-1),N("div",{class:"cross-line-right"},null,-1)];K(),Aa.render=function(e,t,n,a,o,s){const l=U("outline-button");return z(),L(H,null,[N("button",{onClick:t[0]||(t[0]=(...e)=>a.onOpenMobileMenu&&a.onOpenMobileMenu(...e)),class:"hamburger-menu"},za),N("div",{class:A(["menu-drawer",{open:a.isDrawerOpen}])},[Wa,N("ul",Fa,[N("li",Va,[N("a",{onClick:t[1]||(t[1]=(...e)=>a.onCloseMobileMenu&&a.onCloseMobileMenu(...e)),href:"#hero-section"}," Service ")]),N("li",Ga,[N("a",{onClick:t[2]||(t[2]=(...e)=>a.onCloseMobileMenu&&a.onCloseMobileMenu(...e)),href:"#how-it-work-section"}," How It Works ")]),N("li",Ua,[N("a",{onClick:t[3]||(t[3]=(...e)=>a.onCloseMobileMenu&&a.onCloseMobileMenu(...e)),href:"#about-us-section"}," About Us ")]),N("li",ja,[N("a",Ta,[X(l,null,{default:Z((()=>[Ra])),_:1})])])]),N("button",{class:"close-button",onClick:t[4]||(t[4]=(...e)=>a.onCloseMobileMenu&&a.onCloseMobileMenu(...e))},Ya)],2)],64)},Aa.__scopeId="data-v-62c3b7f6";var Ja={name:"NavBar",props:["isHome"],emit:["go-home"],components:{OutlineButton:Pa,HamburgerMenu:Aa},setup(){const e=r(null),t=()=>{e.value=window.scrollY};return V((()=>{window.addEventListener("scroll",t)})),{scrollYPosition:e}}};J("data-v-54ea4635");const Ka={class:"left-container"},qa={class:"right-container"},Xa={key:1,class:"navigation-item"},Za=[N("a",{href:"#hero-section"},"Services",-1)],Qa={key:2,class:"navigation-item"},eo=[N("a",{href:"#how-it-work-section"},"How It Works",-1)],to={key:3,class:"navigation-item"},no=[N("a",{href:"#about-us-section"},"About Us",-1)],ao={class:"navigation-item last"},oo={class:"link",href:"https://github.com/cs-coeus/coeus-api"},so=Q("Public API"),lo={class:"left-container"},io={key:0,class:"right-container"};K(),Ja.render=function(e,t,n,a,o,s){var l,i;const r=U("outline-button"),c=U("hamburger-menu");return z(),L(H,null,[N("nav",{class:A(["navigation-container",{"toggle-background":null!=(l=a.scrollYPosition)&&l}])},[N("div",Ka,[N("li",{class:"navigation-item logo",onClick:t[0]||(t[0]=t=>e.$emit("go-home"))},"COEUS")]),N("div",qa,[n.isHome?j("",!0):(z(),L("li",{key:0,class:"navigation-item",onClick:t[1]||(t[1]=t=>e.$emit("go-home"))},"Home")),n.isHome?(z(),L("li",Xa,Za)):j("",!0),n.isHome?(z(),L("li",Qa,eo)):j("",!0),n.isHome?(z(),L("li",to,no)):j("",!0),N("li",ao,[N("a",oo,[X(r,null,{default:Z((()=>[so])),_:1})])])])],2),N("nav",{class:A(["mobile-menu",{"toggle-background":null!=(i=a.scrollYPosition)&&i}])},[N("div",lo,[N("li",{class:"navigation-item logo",onClick:t[2]||(t[2]=t=>e.$emit("go-home"))},"COEUS")]),n.isHome?(z(),L("div",io,[X(c)])):j("",!0)],2)],64)},Ja.__scopeId="data-v-54ea4635";var ro={name:"HeroSection",components:{InputForm:ra},emits:["generate-map"],setup:(e,{emit:t})=>({HeroImage:ia,generateMap:function(e){t("generate-map",e)}})};J("data-v-60f37cf3");const co={id:"hero-section",class:"hero-wrapper"},uo=N("svg",{class:"shape",viewBox:"0 0 645 979",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("path",{d:"M0.999808 391C-3.69497 216.525 138.927 126.78 333.5 0H646C646 0 995 960.5 646 975C297 989.5 21.4999 957.5 21.4999 871C21.4999 784.5 282.423 714.859 208 632C120.619 573.896 7.80551 532.148 0.999808 391Z",fill:"white"})],-1),po=["src"],ho=N("div",{class:"hero-copy"},[N("h1",null,"Generate your Mind Map from any text and files"),N("h2",null," With neural network, keywords are extracted and organized into mind map with ease. ")],-1);K(),ro.render=function(e,t,n,a,o,s){const l=U("input-form");return z(),L("div",co,[uo,N("img",{class:"hero-image",src:a.HeroImage,alt:"hero-image"},null,8,po),N("div",null,[ho,X(l,{onGenerateMap:a.generateMap},null,8,["onGenerateMap"])])])},ro.__scopeId="data-v-60f37cf3";var mo={name:"FeaturesSection",components:{LinkButton:sa},setup:()=>({FeatureImage1:"/coeus-front-end/assets/FeatureImage1.dce27f30.svg",FeatureImage2:"/coeus-front-end/assets/FeatureImage2.3622740e.svg"})};J("data-v-aee066e4");const go={class:"feature-wrapper"},fo={class:"feature"},vo=["src"],yo=N("div",{class:"text right-text"},[N("h2",null,"Generate mind map with Neural Network"),N("p",null," You can generate mind map from a Wikipedia article, or uploading a file. We are currently only support English content at the moment. ")],-1),bo={class:"feature"},wo={class:"text"},xo=N("h2",null,"Public API for connect with your own solution",-1),ko=Q(" We provide public API for individual to connect to our service and get your text transofrm into mind map. This enables endless possibilities for your own solutions of choices. "),_o={class:"link",href:"https://github.com/cs-coeus/coeus-api"},Mo=Q("Explore our API documentation"),Co=["src"];K(),mo.render=function(e,t,n,a,o,s){const l=U("link-button");return z(),L("div",go,[N("div",fo,[N("img",{class:"image",src:a.FeatureImage1,alt:"feature image 1"},null,8,vo),yo]),N("div",bo,[N("div",wo,[xo,N("p",null,[ko,N("a",_o,[X(l,null,{default:Z((()=>[Mo])),_:1})])])]),N("img",{class:"image",src:a.FeatureImage2,alt:"feature image 2"},null,8,Co)])])},mo.__scopeId="data-v-aee066e4";var So={name:"StepCard"};J("data-v-50cea44c");const Io={class:"card"},$o={class:"card-header"},Bo={class:"card-content"};K(),So.render=function(e,t,n,a,o,s){return z(),L("div",Io,[N("div",$o,[q(e.$slots,"card-header",{},void 0,!0)]),N("div",Bo,[q(e.$slots,"card-content",{},void 0,!0)])])},So.__scopeId="data-v-50cea44c";var Eo={name:"HowItWorksSection",components:{StepCard:So},setup:()=>({HowItWorksImage1:"/coeus-front-end/assets/HowItWorks1.7ab0e9ab.svg",HowItWorksImage2:"/coeus-front-end/assets/HowItWorks2.9eac0fe3.svg"})};J("data-v-78022ba4");const Do={id:"how-it-work-section",class:"how-it-works-wrapper"},Lo=N("h2",null,"How it works",-1),No=N("p",null,"How your text transform into mind map",-1),Ho={class:"steps"},Po=["src"],Oo=["src"],Ao=N("h3",null,"Step 1",-1),zo=N("p",null,"Extract text from a file or a Wikipedia article.",-1),Wo=N("h3",null,"Step 2",-1),Fo=N("p",null," Feed raw text data to model for analyze the structure and important keywords. ",-1),Vo=N("h3",null,"Step 3",-1),Go=N("p",null," Convert results from model into data structure applicable for mind map visualization. ",-1),Uo=N("h3",null,"Step 4",-1),jo=N("p",null,"Read mind map data and display the corresponding mind map.",-1);K(),Eo.render=function(e,t,n,a,o,s){const l=U("step-card");return z(),L("div",Do,[Lo,No,N("div",Ho,[N("img",{class:"left-image",src:a.HowItWorksImage2,alt:"how it works image 2"},null,8,Po),N("img",{class:"right-image",src:a.HowItWorksImage1,alt:"how it works image 1"},null,8,Oo),X(l,{class:"step first-step"},{"card-header":Z((()=>[Ao])),"card-content":Z((()=>[zo])),_:1}),X(l,{class:"step second-step"},{"card-header":Z((()=>[Wo])),"card-content":Z((()=>[Fo])),_:1}),X(l,{class:"step third-step"},{"card-header":Z((()=>[Vo])),"card-content":Z((()=>[Go])),_:1}),X(l,{class:"step forth-step"},{"card-header":Z((()=>[Uo])),"card-content":Z((()=>[jo])),_:1})])])},Eo.__scopeId="data-v-78022ba4";var To={name:"DeveloperDisplay"};J("data-v-5233a1a8");const Ro={class:"developer-wrapper"};K(),To.render=function(e,t,n,a,o,s){return z(),L("div",Ro,[q(e.$slots,"developer-image",{},void 0,!0),q(e.$slots,"developer-name",{},void 0,!0),q(e.$slots,"developer-role",{},void 0,!0)])},To.__scopeId="data-v-5233a1a8";var Yo={name:"AboutUsSection",components:{DeveloperDisplay:To},setup:()=>({PeteImage:"/coeus-front-end/assets/Pete.615c5384.png",PluemImage:"/coeus-front-end/assets/Pluem.c4492312.png",MichalImage:"/coeus-front-end/assets/Michal.66a81b54.png"})};J("data-v-6f93da02");const Jo={id:"about-us-section",class:"about-us-wrapper"},Ko=N("h2",null,"About Us",-1),qo={class:"developers-wrapper"},Xo={class:"developer-container"},Zo=["src"],Qo=N("h4",null,"Pittawat Taveekitworachai",-1),es=N("p",null,"Developer",-1),ts={class:"developer-container"},ns=["src"],as=N("h4",null,"Wicharn Rueangkhajorn",-1),os=N("p",null,"Developer",-1),ss={class:"developer-container"},ls=["src"],is=N("h4",null,"Michal Zielinski",-1),rs=N("p",null,"Developer",-1);K(),Yo.render=function(e,t,n,a,o,s){const l=U("developer-display");return z(),L("div",Jo,[Ko,N("div",qo,[N("div",Xo,[X(l,null,{"developer-image":Z((()=>[N("img",{class:"developer-image",src:a.PeteImage,alt:"Pete image"},null,8,Zo)])),"developer-name":Z((()=>[Qo])),"developer-role":Z((()=>[es])),_:1})]),N("div",ts,[X(l,null,{"developer-image":Z((()=>[N("img",{class:"developer-image",src:a.PluemImage,alt:"Pete image"},null,8,ns)])),"developer-name":Z((()=>[as])),"developer-role":Z((()=>[os])),_:1})]),N("div",ss,[X(l,null,{"developer-image":Z((()=>[N("img",{class:"developer-image",src:a.MichalImage,alt:"Pete image"},null,8,ls)])),"developer-name":Z((()=>[is])),"developer-role":Z((()=>[rs])),_:1})])])])},Yo.__scopeId="data-v-6f93da02";var cs={name:"FooterSection"};J("data-v-4bf6384a");const ds={class:"footer-wrapper"},us=[N("div",{class:"left-container"},[N("p",null,"COEUS")],-1),N("div",{class:"right-container"},[N("p",null," All rights reserved. This project is a part of computer science capstone project at School of Information Technology, King Mongkut’s University of Technology Thonburi ")],-1)];K(),cs.render=function(e,t,n,a,o,s){return z(),L("div",ds,us)},cs.__scopeId="data-v-4bf6384a";var ps={name:"App",components:{FooterSection:cs,FeaturesSection:mo,HeroSection:ro,NavBar:Ja,DialogWindow:Da,LoadingSpinner:$a,AboutUsSection:Yo,HowItWorksSection:Eo,MapEditorBottom:Sa,MapEditor:Kn},setup(){const e=r(!0),t=r(""),n=r([]),a=r(null),o=r(!1);function l(e,t){for(var n in e)if("object"==typeof e[n]){delete e.property;let a=l(e[n],t);e[n]=a}else n===t&&delete e[n];return e}return{isHome:e,info:t,formatted:n,error:a,isLoading:o,goHome:function(){e.value=!0},handleError:function(){a.value=null},generateMap:async function(i){e.value=!0,o.value=!0;try{await async function(a){let o=null,i=null,r={Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjoiSSBBTSBBVVRIRU5USUNBVEVEISBzdGZnQXM4S3VDMmZOUVJ1ckhkVmFjQUFjTW1VQXJRcSJ9._ft_CMR27CE8ySY55KiH34uWnFJmdaLoCH8XYBFqWmQ"};if(a.fileList.length>0){if(""===a.url)throw new Error("Topic cannot be empty");o="http://coeus.sit.kmutt.ac.th/api/main/predict/unstructured/file",i=new FormData,i.append("topic",a.url),i.append("file",a.fileList[0])}else{if(""===a.url)throw new Error("Wikipedia URL cannot be empty");let e=a.url;a.url.includes("wikipedia.org/")&&(e=a.url.split("/").slice(-1)[0]),o="http://coeus.sit.kmutt.ac.th/api/main/predict/semi-structured",r["Content-Type"]="application/json",i=JSON.stringify({wiki_path:e})}let c=await fetch(o,{method:"POST",headers:r,body:i});const d=await c.json();if(!c.ok)throw new Error(d.message||"failed to fetch");t.value=JSON.stringify(d.result),function(){if(""===t.value)throw new Error("There was some error");{let a=JSON.parse(t.value.toString());if("edges"in a&&"nodes"in a){let t=[];for(let e=0;e<a.nodes.length;e++)a.nodes[e].name=a.nodes[e].text,t.push(s(s({},a.nodes[e]),a.edges.find((t=>t.childId===a.nodes[e].id))));let o=0;for(let e=0;e<t.length;e++)t[e].left=1===t[e].parentId&&++o%2==0;let i=ne(t,{parentProperty:"parentId",customID:"id"});i=l(i,"id"),i=l(i,"text"),i=l(i,"parentId"),n.value=JSON.parse(JSON.stringify(i)),e.value=!1}}}()}(i)}catch(r){a.value=r.message||"failed to generate mind map"}o.value=!1}}}};J("data-v-3af0d004");const hs={id:"app"},ms={key:0},gs={key:1};K(),ps.render=function(e,t,n,a,o,s){const l=U("dialog-window"),i=U("LoadingSpinner"),r=U("nav-bar"),c=U("hero-section"),d=U("features-section"),u=U("how-it-works-section"),p=U("about-us-section"),h=U("MapEditor"),m=U("map-editor-bottom"),g=U("footer-section");return z(),L("div",hs,[X(l,{show:!!a.error,title:"ERROR",onClose:a.handleError},{default:Z((()=>[N("p",null,W(a.error),1)])),_:1},8,["show","onClose"]),X(l,{fixed:"",show:a.isLoading,title:"Generating mind map..."},{default:Z((()=>[a.isLoading?(z(),T(i,{key:0})):j("",!0)])),_:1},8,["show"]),X(r,{isHome:a.isHome,onGoHome:a.goHome},null,8,["isHome","onGoHome"]),a.isHome?(z(),L("div",ms,[X(c,{onGenerateMap:a.generateMap},null,8,["onGenerateMap"]),X(d),X(u),X(p)])):j("",!0),a.isHome?j("",!0):(z(),L("div",gs,[a.isHome?j("",!0):(z(),T(h,{key:0,tree:a.formatted},null,8,["tree"])),a.isHome?j("",!0):(z(),T(m,{key:1,onGenerateMap:a.generateMap},null,8,["onGenerateMap"]))])),X(g)])},ps.__scopeId="data-v-3af0d004";ae(ps).mount("#app");
